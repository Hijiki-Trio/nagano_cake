<p id="notice"></p>
<div class="container shipping_index_wrapper">
  <h3>配送先登録 / 一覧</h3>
    <%= render 'customers/shared/error_messages', resource: @shipping_addressnew %>
    <%= form_with model:@shipping_addressnew, method: :post, local:true do |f| %>
    <div class="mt-3">
      <div class="row form-group md-2">
        <%= f.label :"郵便番号(ハイフン無)", class:"form-label-sm col-2" %>
        <%= f.text_field :postcode, class:"form-control-sm col-3" %>
      </div>

      <div class="row form-group">
        <%= f.label :"住所", class:"form-label-sm col-2" %>
        <%= f.text_field :address, class:"form-control-sm col-4" %>
      </div>

      <div class="row form-group">
        <%= f.label :"宛名", class:"form-label-sm col-2" %>
        <%= f.text_field :name, class:"form-control-sm col-3" %>
        <%= f.submit "新規登録", class:"btn btn-secondary btn-m offset-3" %>
      </div>
    <% end %>
  </div>

  <table class="table table-striped shipping_address-table mt-5">
    <thead>
      <th>郵便番号</th>
      <th colspan="3">住所</th>
      <th>宛名</th>
      <th></th>
    </thead>
    <tbody>
      <% @shipping_addresseses.each do |shipping_address| %>
      <tr>
        <td><%= shipping_address.postcode %></td>
        <td colspan="3"><%= shipping_address.address %></td>
        <td><%= shipping_address.name %></td>
        <td>
          <%= link_to edit_shipping_address_path(shipping_address.id), class: "text-dark mr-3" do %><i class="fas fa-edit fa-lg"></i><% end %>
          <%= link_to shipping_address_path(shipping_address.id), method: :delete, class: "text-danger", "data-confirm" => "本当に削除しますか?" do %><i class="fas fa-trash-alt fa-lg"></i><% end %>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>